<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head th:replace="layout/default :: head">
</head>
<body>
    <header th:replace="layout/default :: header"></header>

    <main class="admin-container">
        <div class="admin-card">
            <div class="admin-header">
                <h1 class="admin-title">📚 도서 관리</h1>
                <p class="admin-subtitle">도서를 검색하고 등록할 수 있습니다</p>
            </div>

            <div class="search-section">
                <form class="search-box" onsubmit="searchBooks(event)" method="get">
                    <input type="text" id="searchInput" name="keyword" placeholder="도서 제목으로 검색" required>
                    <button type="submit">검색</button>
                </form>
            </div>

            <div class="admin-book-list" id="bookList">
                <!-- 검색 결과 동적 추가 -->
            </div>

            <div class="no-books" id="noBooks" style="display: none;">
                검색 결과가 없습니다.
            </div>
        </div>
    </main>

    <div class="modal" id="registerModal">
        <div class="admin-modal">
            <div class="modal-header">
                <h2 class="modal-title">도서 등록</h2>
            </div>
            <div class="modal-body">
                <form class="book-form" id="registerForm">
                    <div class="form-group">
                        <label for="title">제목</label>
                        <input type="text" id="title" name="title" readonly>
                    </div>
                    <div class="form-group">
                        <label for="author">저자</label>
                        <input type="text" id="author" name="author" readonly>
                    </div>
                    <div class="form-group">
                        <label for="image">이미지</label>
                        <input type="text" id="image" name="image" readonly>
                    </div>
                    <div class="form-group">
                        <label for="publisher">출판사</label>
                        <input type="text" id="publisher" name="publisher" readonly>
                    </div>
                    <div class="form-group">
                        <label for="pubdate">출판일</label>
                        <input type="text" id="pubdate" name="pubdate" readonly>
                    </div>
                    <div class="form-group">
                        <label for="isbn">ISBN</label>
                        <input type="text" id="isbn" name="isbn" readonly>
                    </div>
                    <div class="form-group">
                        <label for="description">설명</label>
                        <textarea id="description" name="description" rows="4" readonly></textarea>
                    </div>
                    <div class="form-group">
                        <label for="quantity">수량</label>
                        <input type="number" id="quantity" name="quantity" min="1" value="1" required>
                        <small class="form-help">등록할 도서의 수량을 입력해주세요. (최소 1권)</small>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" onclick="closeModal()">취소</button>
                        <button type="submit" class="btn btn-primary">등록</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <footer th:replace="layout/default :: footer"></footer>

    <script th:src="@{/js/admin/books.js}"></script>
    <script th:src="@{/js/login.js}"></script>
</body>
</html>
